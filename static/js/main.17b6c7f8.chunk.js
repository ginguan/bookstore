(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{43:function(e,t,i){},71:function(e,t,i){},72:function(e,t,i){},78:function(e,t,i){"use strict";i.r(t);var n=i(5),a=i(0),c=i(10),r=i.n(c),o=(i(71),i(44)),s=i(45),l=i(51),d=i(50),u=i(52),j=(i(72),i(12)),p=i(46),b={items:[{id:0,name:"The Last Days of John Lennon",finished:!1,description:"The greatest true-crime story in music history, as only James Patterson can tell it.",price:15.99,category:"History"}],finishedCount:0,visible:!0,totalCount:1},f=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Get":var i=JSON.parse(JSON.stringify(e));return i.items=t.items,i;case"Modify":var n=JSON.parse(JSON.stringify(e)),a=0;return n.items.forEach((function(e,i){t.itemId===e.id&&(e.finished=t.flag),e.finished&&(a+=1)})),n.finishedCount=a,n;case"Delete":var c=JSON.parse(JSON.stringify(e)),r=0;return c.items.forEach((function(e,i){t.itemId===e.id&&(console.log(e.id),c.items.splice(i,1))})),c.items.forEach((function(e,t){e.finished&&(r+=1)})),c.finishedCount=r,c;case"Add":var o=JSON.parse(JSON.stringify(e));return o.items.push(t.item),o.totalCount++,o;case"Edit":var s=JSON.parse(JSON.stringify(e));return s.items.forEach((function(e,i){t.item.id===e.id&&(s.items[i]=t.item)})),s;default:return e}})),h=i(115),m=i(111),O=i(110),g=i(116),y=i(113),x=i(112);i(43);var v=function(e){var t=e.item,i=Object(a.useState)(t.id),c=Object(j.a)(i,2),r=c[0],o=(c[1],Object(a.useState)(!1)),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(t.name),p=Object(j.a)(u,2),b=p[0],v=p[1],C=Object(a.useState)(t.price),N=Object(j.a)(C,2),S=N[0],k=N[1],I=Object(a.useState)(t.category),P=Object(j.a)(I,2),J=P[0],B=P[1],E=Object(a.useState)(t.description),W=Object(j.a)(E,2),D=W[0],L=W[1],w=function(){d(!0)},T={id:r,name:b,price:S,category:J,description:D,finished:!1};return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{onClick:w,children:t.name}),Object(n.jsx)("td",{onClick:w,children:t.price}),Object(n.jsx)("td",{onClick:w,children:t.category}),Object(n.jsx)("td",{onClick:w,children:t.description}),Object(n.jsxs)("td",{children:[Object(n.jsx)("button",{className:"btn btn-danger text-black delBtn",onClick:function(){return function(e){var t=function(e){return{type:"Delete",itemId:e}}(e);f.dispatch(t)}(t.id)},children:"Remove"}),Object(n.jsxs)(h.a,{open:l,onClose:function(){d(!1)},className:"dialog","aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(g.a,{id:"form-dialog-title",className:"dialogTitle",children:"Book Info"}),Object(n.jsxs)(O.a,{className:"dialog-content",children:["Book Name",Object(n.jsx)(x.a,{InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"name",type:"text",defaultValue:t.name,fullWidth:!0,onChange:function(e){v(e.target.value)}}),"Price",Object(n.jsx)(x.a,{InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"price",type:"text",defaultValue:t.price,fullWidth:!0,onChange:function(e){k(e.target.value)}}),"Category",Object(n.jsx)(x.a,{InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"category",type:"text",defaultValue:t.category,fullWidth:!0,onChange:function(e){B(e.target.value)}}),"Description",Object(n.jsx)(x.a,{InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"description",type:"text",defaultValue:t.description,fullWidth:!0,onChange:function(e){L(e.target.value)},multiline:!0})]}),Object(n.jsxs)(m.a,{className:"dialog-action",children:[Object(n.jsx)(y.a,{onClick:function(){v(""),k(""),B(""),L(""),d(!1)},variant:"contained",color:"secondary",children:"Cancel"}),Object(n.jsx)(y.a,{onClick:function(){if(""!=T.name.trim()&&""!=T.price&&""!=T.description&&""!=T.category)if(/^[1-9]\d*(((,\d{3}){1})?(\.\d{0,2})?)$/.test(T.price)){var e=function(e){return{type:"Edit",item:e}}(T);f.dispatch(e),d(!1)}else alert("Invalid price, please enter a number");else alert("Blank input detected")},variant:"contained",color:"primary",children:"Save"})]})]})]})]})},C=i(30);var N=function(){var e,t=Object(a.useState)(!1),i=Object(j.a)(t,2),c=i[0],r=i[1],o=f.getState(),s=o.totalCount,l=(o.visible,Object(a.useState)(0)),d=Object(j.a)(l,2),u=d[0],p=d[1],b=Object(a.useState)(""),v=Object(j.a)(b,2),N=v[0],S=v[1],k=Object(a.useState)(""),I=Object(j.a)(k,2),P=I[0],J=I[1],B=Object(a.useState)(""),E=Object(j.a)(B,2),W=E[0],D=E[1],L=Object(a.useState)(""),w=Object(j.a)(L,2),T=w[0],V=w[1],A={id:u,name:N,price:P,category:W,description:T,finished:!1};return Object(a.useEffect)((function(){0!==u&&function(){var e=function(e){return{type:"Add",item:e}}(A);f.dispatch(e),r(!1)}(),p(0)}),[u]),Object(n.jsxs)("div",{style:{margin:"0 auto",width:"7rem",marginBottom:"1rem"},children:[Object(n.jsx)(y.a,(e={style:{left:"300%"},variant:"outlined"},Object(C.a)(e,"variant","contained"),Object(C.a)(e,"color","primary"),Object(C.a)(e,"onClick",(function(){r(!0)})),Object(C.a)(e,"children","Add Book"),e)),Object(n.jsxs)(h.a,{open:c,onClose:function(){r(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(g.a,{className:"dialogTitle",id:"form-dialog-title",children:"New Book"}),Object(n.jsxs)(O.a,{className:"dialog-content",children:[Object(n.jsx)(x.a,{InputLabelProps:{style:{color:"#cee5e7"}},InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",autoFocus:!0,margin:"dense",id:"name",label:"Book Name",type:"text",fullWidth:!0,onChange:function(e){S(e.target.value)}}),Object(n.jsx)(x.a,{InputLabelProps:{style:{color:"#cee5e7"}},InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"price",label:"Price",type:"text",fullWidth:!0,onChange:function(e){J(e.target.value)}}),Object(n.jsx)(x.a,{InputLabelProps:{style:{color:"#cee5e7"}},InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"category",label:"Category",type:"text",fullWidth:!0,onChange:function(e){D(e.target.value)}}),Object(n.jsx)(x.a,{InputLabelProps:{style:{color:"#cee5e7"}},InputProps:{style:{color:"#e9f4f5"}},className:"dialog-input",margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){V(e.target.value)}})]}),Object(n.jsxs)(m.a,{className:"dialog-action",children:[Object(n.jsx)(y.a,{onClick:function(){S(""),J(""),D(""),V(""),r(!1)},variant:"contained",color:"secondary",children:"Cancel"}),Object(n.jsx)(y.a,{onClick:function(){0!==A.name.trim().length&&""!=A.price&&""!=A.description.trim()&&""!=A.category.trim()?/^[1-9]\d*(((,\d{3}){1})?(\.\d{0,2})?)$/.test(A.price)?p(s):alert("Invalid price, please enter a number"):alert("Blank input detected")},variant:"contained",color:"primary",children:"Create"})]})]})]})},S=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).onChangeStore=function(){n.setState(f.getState())},n.state=f.getState(),n}return Object(s.a)(i,[{key:"componentDidMount",value:function(){f.subscribe(this.onChangeStore)}},{key:"render",value:function(){var e=this.state.items;return Object(n.jsxs)("div",{className:"background",children:[Object(n.jsx)("h1",{children:"BookStore"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"dataTable",children:Object(n.jsxs)(u.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Category"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col"})]})},-1),Object(n.jsx)("tbody",{children:e.map((function(e,t){return Object(n.jsx)(v,{item:e},t)}))})]})}),Object(n.jsx)(N,{})]})]})}}]),i}(a.Component);r.a.render(Object(n.jsx)(S,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.17b6c7f8.chunk.js.map